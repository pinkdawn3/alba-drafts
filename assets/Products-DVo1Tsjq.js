const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CartWidget-Cr2oYQHR.js","assets/index-m8ST3C5i.js","assets/index-DZoJaCIk.css","assets/Spinner-CPWl037I.js"])))=>i.map(i=>d[i]);
import{u as y,r as t,j as e,T as r,_ as i}from"./index-m8ST3C5i.js";const N=t.lazy(()=>i(()=>import("./CartWidget-Cr2oYQHR.js"),__vite__mapDeps([0,1,2]))),_=t.lazy(()=>i(()=>import("./Spinner-CPWl037I.js"),__vite__mapDeps([3,1,2]))),b="https://ecom-fake-api.onrender.com/products";function v(){const{cart:n,setCart:l}=y(),[o,d]=t.useState(!0),[c,x]=t.useState([]),[m,u]=t.useState(!1),h=Object.keys(n||{}).length;async function g(s){const a=await fetch(s);if(!a.ok)throw new Error("Network error");const p=await a.json();return Object.values(p)}t.useEffect(()=>{g(b).then(x).catch(()=>u(!0)).finally(()=>d(!1))},[]);const j=s=>{s.quantity=1,l(a=>({...a,[s.id]:s}))},f=s=>Object.keys(n||{}).includes(s.toString());return m?e.jsx("h3",{children:"An error occurred when fetching data. Please check the API and try again."}):o?e.jsx(_,{}):e.jsxs("section",{className:"mx-auto max-w-2xl px-4 py-5 sm:px-6 sm:py- lg:max-w-7xl lg:px-8",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold tracking-tight text-font",children:e.jsx(r,{id:"N0qXpE"})}),e.jsx(N,{productsCount:h})]}),e.jsx("div",{className:"mt-6 grid grid-cols-1 gap-x-6 gap-y-10 sm:grid-cols-2 lg:grid-cols-4 xl:gap-x-8",children:c.length===0?e.jsxs("p",{children:[" ",e.jsx(r,{id:"AhtOGK"})," "]}):c.map(s=>e.jsxs("article",{className:"group relative",children:[e.jsx("img",{src:s.picture,alt:s.name,className:"aspect-square w-full rounded-md object-cover lg:aspect-auto lg:h-80"}),e.jsxs("div",{className:"mt-4 flex justify-between",children:[e.jsx("div",{children:e.jsx("h3",{className:"text-m text-gray-400 font-semibold",children:s.name})}),e.jsxs("p",{className:"text-m font-medium text-gray-400",children:[s.price," â‚¬"]})]}),e.jsx("div",{className:"flex py-2",children:e.jsx("button",{disabled:f(s.id),onClick:()=>j(s),className:"button grow",children:e.jsx(r,{id:"bglgMN"})})})]},s.id))})]})}export{v as default};
//# sourceMappingURL=Products-DVo1Tsjq.js.map
